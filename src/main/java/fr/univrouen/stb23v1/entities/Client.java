package fr.univrouen.stb23v1.entities;

import jakarta.xml.bind.annotation.*;

import java.util.ArrayList;
import java.util.List;

import jakarta.persistence.*;

@Entity
@Table(name = "client")
@XmlRootElement(name = "client")
@XmlAccessorType(XmlAccessType.FIELD)
public class Client {

  /**
   * Autogenerated id.
   */
  @Id
  @GeneratedValue(strategy = GenerationType.IDENTITY)
  @XmlTransient
  private Integer id;

  @XmlElement(name = "entity")
  private String entity;

  @XmlElement(name = "person")
  @OneToOne(cascade = CascadeType.ALL)
  @JoinColumn(name = "person_id")
  private Person person;

  @XmlElement(name = "mail")
  @ElementCollection
  @CollectionTable(name = "client_mails", joinColumns = @JoinColumn(name = "client_id"))
  @Column(name = "mail")
  private List<String> mail;

  @XmlElement(name = "tel")
  @ElementCollection
  @CollectionTable(name = "client_tel", joinColumns = @JoinColumn(name = "client_id"))
  @Column(name = "tel")
  private List<String> tel;

  // Getters and setters

  public String getEntity() {
    return entity;
  }

  public void setEntity(String entity) {
    this.entity = entity;
  }

  public Person getPerson() {
    return person;
  }

  public void setPerson(Person person) {
    this.person = person;
  }

  public List<String> getMail() {
    return mail;
  }

  public void setMail(List<String> mail) {
    this.mail = mail;
  }

  public List<String> getTel() {
    return tel;
  }

  public void setTel(List<String> tel) {
    this.tel = tel;
  }

  // Constructors

  public Client() {
  }

  public Client(String entity, Person person, ArrayList<String> mail, ArrayList<String> tel) {
    this.entity = entity;
    this.person = person;
    this.mail = mail;
    this.tel = tel;
  }

  // Methods
  @Override
  public String toString() {
    return "Client{" +
            "entity='" + entity + '\'' +
            ", person=" + person +
            ", mail=" + mail +
            ", tel=" + tel +
            '}';
  }
}